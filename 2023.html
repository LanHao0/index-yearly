<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta content="#0C5270" name="theme-color"/>
    <link href="./img/152.png" rel="shortcut icon"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="./manifest.json" rel="manifest">
    <meta charset="utf-8"/>
    <meta content="一个兰兰想的个人网站, 涵盖他写的博客, 以及他拍的照片, 做的应用, 听的歌, 画的画~ " name="Description"/>
    <title>兰兰想的世界 LanHao</title>
    <meta content="兰兰想,兰兰想的世界,兰兰想的魔法世界,兰兰想的博客" name="Keywords"/>
    <meta content="phju-__CWVhpDG8aMtHZoPmajYM1mFL-5huAXnCvb0k" name="google-site-verification"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          type="text/css">

    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="兰兰想的世界" name="apple-mobile-web-app-title">
    <link href="./img/icon.png" rel="apple-touch-icon">
    <style>
        .img-container {
            width: 300px;
            height: 300px;
            overflow: hidden;
            margin: 0 auto;
            border-radius: 300px;
            border: solid seagreen 10px;
            transition: all 0.3s;
        }

        .img {
            height: 300px;
            transition: all 0.3s;
            margin: -20px auto 0 -40px;
        }

        .albumCover {
            width: 100px;
            height: 100px;
            border-radius: 100px;
            overflow: hidden;
        }

        .animation-flick {
            animation-name: flick;
            animation-duration: 3s;
            animation-iteration-count: infinite;
        }

        @keyframes flick {
            0% {
                opacity: 0;
                transform: rotateX(360deg);
            }
            50% {
                opacity: 1;
                transform: rotateX(0deg);
            }
            100% {
                opacity: 0;
                transform: rotateX(360deg);
            }
        }

        .link {
            position: relative;
            -webkit-transition: -webkit-clip-path 275ms ease;
            transition: -webkit-clip-path 275ms ease;
            transition: clip-path 275ms ease;
            transition: clip-path 275ms ease, -webkit-clip-path 275ms ease;
        }

        .link:hover h4::before, .link:focus h4::before {
            -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }

        .link h4 {
            position: relative;
            display: inline-block;
        }

        .link h4::before {
            position: absolute;
            content: attr(data-content);
            text-decoration: underline;
            -webkit-text-decoration-color: #1619cb;
            -webkit-clip-path: polygon(0 0, 0 0, 0% 100%, 0 100%);
            clip-path: polygon(0 0, 0 0, 0% 100%, 0 100%);
            -webkit-transition: -webkit-clip-path 275ms ease;
            transition: -webkit-clip-path 275ms ease;
            transition: clip-path 275ms ease, -webkit-clip-path 275ms ease;
        }

        .underline {
            text-decoration: underline;
        }
    </style>
    <base target="_blank">
</head>
<body>
<div class="container p-4 p-md-0">
    <div class="text-center pt-3">
        <h1 class="text-success" style="font-size: 5rem">兰浩 LanHao</h1>
    </div>
    <div class="text-center mt-5">
        <h3>敢于创新，乐于实干</h3>
        <h3>Creating great things, bravely</h3>
    </div>

    <div class="row mt-5">
        <div class="col-md-6">
            <h4>项目经历</h4>
            <h4>Experience</h4>
            <hr style="border-color: black"/>
            <div class="row text-center mt-4">
                <div class="col-12 text-left">
                    <h5>工作</h5>
                    <div>
                        <span><input checked onclick="return false;" type="checkbox"> web前端开发/实习 （2023.01-至今）</span>
                        <br>

                        <span>助理 / 远程 （2022.01-2022.09）</span>
                        <br>
                        <span class="ml-3 text-secondary">负责完成开发、数据处理、调研任务等，森林防火openlayers前端等</span>
                        <br>
                        <span>web前端开发 / 远程 （2020.05-2021.06） </span>
                        <br>
                        <a class="ml-3 text-secondary underline" href="http://web.archive.org/web/20210312024612/http://foodxl.fr:80/">↳ 法国 SAAS 在线点餐</a>
                        <br>
                        <a class="ml-3 text-secondary underline" href="http://web.archive.org/web/20220816101756/https://nasi.tech/">↳ 法国科技公司网站</a>
                    </div>
                    <br>
                </div>
                <div class="col-12 text-left">
                    <h5><a class="text-secondary underline" href="https://github.com/LanHao0">GitHub</a></h5>
                    <p>
                        <a class="ml-3 text-secondary underline"
                                              href="https://github.com/LanHao0/myArtWorksIn3D">↳ 3D艺术作品展示</a>
                        <br>
                        <a class="ml-3 text-secondary underline"
                           href="https://github.com/LanHao0/serverless-GITChartOfYear">↳ Serverless 代码年历</a>
                        <a href="https://mp.weixin.qq.com/s?__biz=Mzg4NzEyMzI1NQ==&mid=2247487869&idx=1&sn=922ccfd88bf5c63a54e29f8461de2103">
                            [腾讯 Serverless 最佳玩家优秀应用奖]
                        </a>
                        <br>
                        <a class="ml-3 text-secondary underline"
                           href="https://github.com/LanHao0/cloudbase-global-aqi-visualize">↳ Cloudbase 全球空气质量查询</a>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-6" style="position: relative">
            <div onclick="document.getElementById('recent').scrollIntoView({behavior: 'smooth' })" style="position: absolute;bottom: 0;right: 0;cursor: pointer;padding-right: 15px;text-align: right">
                <h3>👇 更多关于我的事情</h3>
                    There's more about me
            </div>
            <h4>其他</h4>
            <h4>Extras</h4>
            <hr style="border-color: black"/>
            <div class="row text-center mt-4">
                <div class="col-12 text-left">
                    <h5>在出售物品</h5>
                    <div>
                        <a class="ml-3 text-secondary underline" href="https://shop573767929.taobao.com/">↳
                            淘宝：3D建模、数字文件等</a>
                        <br>
                        <a class="ml-3 text-secondary underline" href="https://shop.kongfz.com/628608/">↳ 孔夫子旧书网：书籍
                            点此购买</a>
                        <br>
                        <a class="ml-3 text-secondary underline" href="https://www.shutterstock.com/zh-Hant/g/lanhao">↳照片：Shutterstock</a>
                        <br>
                        <a class="ml-3 text-secondary">其他物品：搜索闲鱼用户名“水星游泳的蓝宝”</a>
                        <br>
                    </div>
                    <br>
                    <h5>网络平台</h5>
                    <div>
                        <a class="ml-3 text-secondary underline" href="https://space.bilibili.com/722031">看我的视频-哔哩哔哩</a>
                        <a class="ml-3 text-secondary underline" href="https://y.qq.com/n/ryqq/singer/002M7u9Q1EMIJa">我创作的歌曲-QQ 音乐</a>
                        <a class="ml-3 text-secondary underline" href="https://www.lanhaoo.club/stickers/">我画的表情包</a>
                        <a class="ml-3 text-secondary underline" href="https://github.com/LanHao0">Github</a>
                        <a class="ml-3 text-secondary underline" href="https://www.instagram.com/lanhaooclub2020">instagram</a>
                        <a class="ml-3 text-secondary underline"
                           href="https://www.linkedin.com/in/lanhaoo/">Linkedin</a>

                    </div>

                </div>
            </div>
        </div>
    </div>
    <div>
        <h2 class="text-white bg-success" style="width: fit-content;margin:100px auto"><a class="text-white" href="mailto:a913538526@gmail.com">Email: a913538526@gmail.com</a></h2>
    </div>
    <div class="text-left">
        <h3 id="recent">我的最近事项</h3>
        <h3>My recent activities</h3>
        <hr style="border-color: black"/>
        <div class="row">
            <div class="col-md-2 text-secondary">
                <h4>Year 2023</h4>
                <h4>Mar.</h4>
            </div>
            <div class="col-md-10">
                <h4>近期揭晓！设计上的新高度！</h4>
                <h4>Coming soon! New heights in design!</h4>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2023</h4>
                <h4>Mar.</h4>
            </div>
            <div class="col-md-10">
                <h4>项目创意入选腾讯第三届Light·技术公益创造营</h4>
                <h4>Project idea selected for Tencent's third Light·Technology Public Welfare Creation Camp.</h4>
                <a href="https://mp.weixin.qq.com/s/brraORRIImIdcQ-ETUCbXQ">文章：正式出炉！第三届Light·技术公益创造营入围名单来了！</a><span>领域二：爱老派微信小程序</span>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2022</h4>
                <h4>Dec.</h4>
            </div>
            <div class="col-md-10">
                <h4>🥇腾讯文档协同杯创意插件大赛 一等奖</h4>
                <h4>Tencent Docs creative plugin competition. 1st place.</h4>
                <a href="https://mp.weixin.qq.com/s?__biz=MzU0MDU2OTMwNA==&mid=2247517461&idx=2&sn=e453d53d1a855d9a7fef56d84ad99ad9">
                    链接：首届“协同杯”腾讯文档插件创意大赛发榜啦！恭喜这些团队！</a>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2022</h4>
                <h4>Dec.</h4>
            </div>
            <div class="col-md-10">
                <h4>🏅奥派松开源挑战赛 最佳人气奖</h4>
                <h4>Opathon 48 hours coding. most popular.</h4>
                <a href="https://mp.weixin.qq.com/s/5EAXHA131IR1jmun4fLvaA">链接：第一届Opathon极限开源挑战赛圆满收官！精彩不断，感谢不停！</a>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2022</h4>
                <h4>Mar.</h4>
            </div>
            <div class="col-md-10">
                <h4>🎶制作的歌曲登上QQ音乐飙升榜1天</h4>
                <h4>One of my songs are in QQMusic top100 for 1 day.</h4>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2021</h4>
                <h4>Jan.</h4>
            </div>
            <div class="col-md-10">
                <h4>📰腾讯云云函数发文章</h4>
                <h4>publish an article on Tencent Cloud Serverless official WeChat account.</h4>
                <a href="https://mp.weixin.qq.com/s?__biz=Mzg4NzEyMzI1NQ==&amp;mid=2247488350&amp;idx=1&amp;sn=f0ecc7552519c592b4d12b5478974ef0">
                    文章：【玩转腾讯云】免费搭建你的微信机器人！24小时在线！上云
                </a>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2021</h4>
                <h4>Jan.</h4>
            </div>
            <div class="col-md-10">
                <h4>在腾讯云云开发公众号展示了自己的项目：<a href="https://github.com/LanHao0/cloudbase-global-aqi-visualize">全球空气质量监测可视化</a></h4>
                <h4>show my project: <a href="https://github.com/LanHao0/cloudbase-global-aqi-visualize">'Global Air Quality monitoring'</a> on Tencent Cloud Serverless official WeChat account.</h4>
                <a href="https://mp.weixin.qq.com/s/6ALOy5SpKl1aaAop_dCMAw">
                    文章：他 们 真 的 有 点 极 客
                </a>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-2 text-secondary">
                <h4>Year 2020</h4>
                <h4>Nov.</h4>
            </div>
            <div class="col-md-10">
                <h4>🏅腾讯 Serverless 1024 最佳玩家 <a
                        href="https://mp.weixin.qq.com/s?__biz=Mzg4NzEyMzI1NQ==&amp;mid=2247487869&amp;idx=1&amp;sn=922ccfd88bf5c63a54e29f8461de2103">优秀应用奖</a>
                    </h4>
                <h4>Tencent Serverless 1024 good application prize. Got invited write articles on official account.</h4>
                <a href="https://mp.weixin.qq.com/s?__biz=Mzg4NzEyMzI1NQ==&amp;mid=2247488350&amp;idx=1&amp;sn=f0ecc7552519c592b4d12b5478974ef0">
                    以及应邀在其公众号写文：使用腾讯云 Serverless 生成你的 GIT 代码年历！
                </a><br>
                <a class="ml-3 text-secondary"
                   href="https://cloud.tencent.com/developer/article/1769037#%E4%BC%98%E7%A7%80%E4%BD%9C%E8%80%85%E5%A5%9610%E5%90%8D%EF%BC%9A">
                    ↳Year 2021 Jan. 荣获 腾讯云+社区2020年度征文优秀作者奖 | Tencent Cloud+ community 2020 Great author.
                </a>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-2">
                <h4>Year 2020</h4>
                <h4>Mar.</h4>
            </div>
            <div class="col-md-10">
                <h4>💻在 CNVD 国家信息安全漏洞共享平台 提交 Typecho <span style="color: darkred">通用型高危漏洞。</span></h4>
                <h4>Submit security flaws about Typecho on <a
                        href="https://en.wikipedia.org/wiki/Chinese_National_Vulnerability_Database">Chinese National
                    Vulnerability Database(CNVD), <span style="color: darkred">Level: High.</span></a></h4>
                <a href="https://www.cnvd.org.cn/flaw/show/CNVD-2020-23529">
                    文章：Typecho存在文件上传漏洞
                </a>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-2">
                <h4>Year 2020</h4>
                <h4>Feb.</h4>
            </div>
            <div class="col-md-10">
                <h4>拿到了人生第一张软件著作权，耶！</h4>
                <h4>Got first software copyright certificate in my life! </h4>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-2">
                <h4>Year 2017</h4>
                <h4>Jan.</h4>
            </div>
            <div class="col-md-10">
                <h4>🎨2017年百度网络大过年专题 贴吧 app 及电脑 banner 图设计。</h4>
                <h4>Design app banner & web page banner for Baidu at 2017 spring festival.</h4>
                <a href="https://web.archive.org/web/20170121074254/https://tieba.baidu.com/index.html">网页存档：百度贴吧电脑端 -
                    金鸡嘹亮，唱响中国</a>
            </div>
        </div>
    </div>

    <div class="text-center" style="margin-top: 150px; margin-bottom: 150px">
        <div class="bg-success" style="max-width: 600px;margin:0 auto;">
            <h2 class="text-white">我的微信： 13673310503</h2>
        </div>
    </div>

    <div class="text-left">
        <a class="link text-dark" href="https://blog.lanhaoo.club">
            <h4 data-content="我的博客 - 脑海中的创意, 生活中的点滴">我的博客 - 脑海中的创意, 生活中的点滴</h4>
            <br>
            <h4 data-content="My Blog">My Blog</h4>
            <br>
            <h4>Creations in My Mind, Sparks in My Life, Not Wasted</h4>
        </a>
    </div>

    <div class="row" style="margin-top: 150px;">
        <div class="col-md-6 text-left">
            <a href="https://github.com/LanHao0">
                <img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.2.1/icons/github.svg"
                     style="height: 100px"/>
            </a>
            <h5 class="mt-2">近30日代码耗时</h5>
            <h4>Coded in 30 days: <span class="odometer" id="span_codeHour">...</span> h</h4>
            <h6 class="mt-2">今年代码提交</h6>
            <h6>Git commit this year: <span class="odometer" id="span_codeSubmit">...</span> times</h6>
            <p class="text-secondary">Updated at: <span id="span_codeTime">...</span> (From <span
                    style="text-decoration: underline">WakaTime</span>)</p>

        </div>

        <div class="col-md-6 text-left justify-content-center align-self-center">
            <div class="albumCover animation-flick" id="cover_container">
                <img id="albumCover" src="http://lanhaoo.club/img/Spotify_Icon_RGB_Black.png" style="height: 100px"/>
            </div>
            <h5 class="mt-2"><span id="playingDes">...</span> <span id="time"></span></h5>
            <div class="progress" style="height: 1px;">
                <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar" id="songProgress"
                     role="progressbar" style="width: 0;"></div>
            </div>
            <h3><span id="spotify_albumName">...</span></h3>
            <h5 class="text-secondary"><span id="spotify_artistName">...</span></h5>
            <p class="text-secondary">Updated at: <span id="span_spotifyTime">...</span> (From <span
                    style="text-decoration: underline">Spotify</span>)</p>

        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-6 mb-4 justify-content-center align-self-center">
            <div style="border-bottom: solid 6px darkblue;width: 80%">
                <h5>My Digital Wellbeing</h5>
                <h3>我的数字健康</h3>
            </div>
            <h6 class="text-secondary">RealTime updating</h6>
            <p class="mb-1"><span id="span_leftToUpdateMusic" style="background-color: darkblue;color: white">...</span>
                to update MUSIC</p>
            <p class="mb-1"><span id="span_leftToUpdateSteps" style="background-color: darkblue;color: white">...</span>
                s to update STEPS</p>
            <p class="mb-1"><span id="span_leftToUpdateCode" style="background-color: darkblue;color: white">...</span>
                s to update CODE STATUS</p>
        </div>
        <div class="col-md-6 text-left">
            <a href="https://github.com/LanHao0">
                <img src="./img/foot.jpg"
                     style="height: 100px"/>
            </a>
            <h4 class="mt-2">今日步数</h4>
            <h4>Walked today: <span class="odometer" id="span_todayStep">...</span> steps</h4>
            <h6 class="mt-2">30天步数</h6>
            <h6>Walked in 30 days: <span class="odometer" id="span_monthStep">...</span> steps</h6>
            <p class="text-secondary">Updated at: <span id="span_stepTime">...</span> (From <span
                    style="text-decoration: underline">Google Fit</span>)</p>
        </div>

    </div>

    <div class="row mt-4 p-3 border border-secondary text-center" style="border-radius: 20px">
        <div style="width: 100%">
            <img src="https://lanhaoo.club/friendSign.jpg" style="max-width: 100%;">
        </div>
        <div style="width: 100%">
            <img src="https://lanhaoo.club/sheraze.png" style="max-width: 100%;">
        </div>
    </div>


    <div class="row mt-4">
        <h5>更多：
            <a class="text-secondary underline" href="https://www.lanhaoo.club/myArtWorksIn3D/">我的建模作品</a>
            <a class="text-secondary underline" href="https://www.lanhaoo.club/gallery/">摄像馆</a>
            <a class="text-secondary underline"
               href="https://www.lanhaoo.club/myApps/#/app/UDPChat%20%E5%B1%80%E5%9F%9F%E7%BD%91">应用（UDPChat 局域网）</a>
            <a class="text-secondary underline" href="https://www.lanhaoo.club/musicr/#/all">音乐分享</a>
            <a class="text-secondary underline" href="https://www.lanhaoo.club/font/">字体</a>
            <a class="text-secondary underline" href="https://www.lanhaoo.club/tools/markdown.html">MarkDown编辑器</a>
            <a class="text-secondary underline" href="https://www.lanhaoo.club/lab/colorgenerator.html">颜色生成器</a>
        </h5>
    </div>
    <br>


    <div class="text-center mt-4">
        <h4>来玩个游戏：找找我的名字<br>Fun activity：Find my name </h4>
        <br>
        <a href="https://serverlesscloud.cn/about">Serverless中文网</a><br>
        <a href="https://serverlesscloud.cn/best-practice/2021-07-15-wp-user">【玩转腾讯云】免费搭建你的微信机器人！24小时在线！上云！</a><br>
        <a href="https://serverlesscloud.cn/blog/2020-10-26-gitchartofyear">🤸‍♂️👩‍💻 使用腾讯云 Serverless 生成你的 GIT 代码年历！</a><br>
        <a href="https://github.com/Tencent/cloudbase-framework">腾讯云开发云原生一体化部署工具 🚀 CloudBase Framework</a><br>
        <a href="https://github.com/ServerlessCN/serverlesscloud.cn/search?q=lanhao0">Serverless 中文网 Github仓库</a><br>
        <a href="https://baike.baidu.com/item/%E7%99%BE%E5%BA%A6%E8%87%AA%E5%BE%8B%E4%B8%93%E5%91%98%E5%9B%A2%E9%98%9F/6325773">百度自律专员团队</a>
        <a href="https://baike.baidu.com/item/%E8%B4%B4%E5%90%A7%E5%AE%89%E5%85%A8%E5%B1%80">贴吧安全局</a>

    </div>

    <div class="mt-5 text-center text-secondary">From: 2017 March - 2023 解释权所有 All rights reserved.</div>
</div>

<script>
    if ('serviceWorker' in navigator) {
        console.log('CLIENT: service worker registration in progress.');
        navigator.serviceWorker.register('./service-worker.js').then(function () {
            console.log('CLIENT: service worker registration complete.');
        }, function () {
            console.log('CLIENT: service worker registration failure.');
        });
    } else {
        console.log('CLIENT: service worker is not supported.');
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
<script>
    window.addEventListener('load', () => {
        quicklink.listen();
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/odometer@0.4.8/odometer.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/odometer@0.4.8/themes/odometer-theme-default.css" rel="stylesheet">
<script>

    function setCodeHour() {
        axios.get("/wakatime_chart/api_30day_hour.php")
            .then(res => {
                let hours = 0;
                let json_data = res.data;
                for (let i = 0; i < json_data.data.length; i++) {
                    hours += (json_data.data[i].grand_total.total_seconds / 36) / 100;
                }
                document.getElementById("span_codeHour").innerText = hours.toFixed(2).toString();
                document.getElementById("span_codeTime").innerText = json_data.data[json_data.data.length - 1].range.date;
            })
        let gitlabCommits = [];
        let gitlabCommitsCount = 0;
        let githubCommitsCount = 0;
        let allGithubCommitsCount = 0;
        axios.get("/wakatime_chart/api_github_commits.php")
            .then(res => {
                data = res.data;
                allGithubCommitsCount = data.contributions.reduce((a, b) => a + b.count, 0);

                githubCommitsCount = data.contributions.filter(item => item.date.substr(0, 4) === '2023').reduce((a, b) => a + b.count, 0);
                axios.get("/wakatime_chart/api_gitlab_commits.php")
                    .then(res => {
                        if (res.data) {
                            let a = JSON.stringify(res.data);
                            a = a.replace('{', '').replace('}', '');
                            let b = a.split(",");
                            for (let item of b) {
                                let c = item.split(":");
                                if (c[0].substr(1, 4) === '2023') {
                                    gitlabCommits.push({
                                        date: c[0].replace('"', '').replace('"', ''),
                                        count: parseInt(c[1])
                                    })
                                }
                            }
                            gitlabCommitsCount = gitlabCommits.reduce((a, b) => a + b.count, 0);
                            console.log(gitlabCommitsCount)
                            document.getElementById('span_codeSubmit').innerText = gitlabCommitsCount + githubCommitsCount;
                        }
                    })

            })


    }

    var getCurrent;

    function getRecentPlay() {
        setCounter('span_leftToUpdateMusic');
        axios
            .get("https://spotify.lanhaoo.club/recentPlaying")
            .then(res => {
                const data = res.data;
                document.getElementById('albumCover').src = data.items[0].track.album.images[0].url;
                const playedAt = new Date(data.items[0].played_at).getTime();
                let ago = (new Date().getTime() - playedAt) / 1000;

                if (ago / 60 > 60) {
                    if (Math.floor(ago / 3600) > 23) {
                        ago = Math.floor((ago / 3600) / 24) + 'd'
                    } else {
                        ago = Math.floor(ago / 3600) + 'h';
                    }

                } else {
                    ago = Math.floor(ago / 60) + 'm'
                }
                //小于一小时显示分钟，大于24小时显示天
                document.getElementById('playingDes').innerText = '最近播放 Recent Playing - ' + ago;
                document.getElementById('cover_container').setAttribute("class", "albumCover");
                document.getElementById('spotify_albumName').innerText = data.items[0].track.name;
                document.getElementById('span_spotifyTime').innerText = new Date(data.items[0].played_at).toLocaleString();
                document.getElementById('time').innerText = '';
                let artistName = [];
                for (let artist of data.items[0].track.artists) {
                    artistName.push(artist.name)
                }
                document.getElementById('spotify_artistName').innerText = artistName.join(', ');

                getCurrent = setInterval(function () {
                    getCurrentPlay();
                }, 1000 * 60)
            })
    }


    function getCurrentPlay() {
        axios.get('https://spotify.lanhaoo.club/currentPlaying').then(res => {
            const data = res.data;
            if (res.data !== "") {
                if (getCurrent) {
                    clearInterval(getCurrent)
                }
                document.getElementById('albumCover').src = data.item.album.images[0].url;
                document.getElementById('playingDes').innerText = '正在播放 Now Playing'
                document.getElementById('spotify_albumName').innerText = data.item.name;

                let artistName = [];
                for (let artist of data.item.artists) {
                    artistName.push(artist.name)
                }
                document.getElementById('spotify_artistName').innerText = artistName.join(', ');
                document.getElementById('span_spotifyTime').innerText = 'It\'s realTime!';
                document.getElementById('cover_container').setAttribute("class", "albumCover");
                countProgeress(data);


            } else {
                if (!getCurrent) {
                    getRecentPlay();
                } else {
                    clearInterval(getCurrent);
                    getRecentPlay();
                }
            }
        });
    }

    function countProgeress(data) {
        let nowProgress = data.progress_ms;
        let totalProgress = data.item.duration_ms;
        let progressBar = document.getElementById('songProgress');

        let percent = (nowProgress / totalProgress) * 100;
        progressBar.style.width = percent + '%';
        progressBar.setAttribute('aria-valuenow', percent.toString());
        let setProgress = setInterval(function () {
            nowProgress += 1000;
            percent = (nowProgress / totalProgress) * 100;
            if (nowProgress > totalProgress) {
                nowProgress = totalProgress
            }
            document.getElementById('time').innerText = fancyTimeFormat(nowProgress / 1000) + '/' + fancyTimeFormat(totalProgress / 1000);
            progressBar.style.width = percent + '%';
            progressBar.setAttribute('aria-valuenow', percent.toString());

            document.getElementById('span_leftToUpdateMusic').innerText = fancyTimeFormat((data.item.duration_ms - nowProgress) / 1000);
            if (percent > 100) {
                clearInterval(setProgress)
                getCurrentPlay();
            }
        }, 1000)
    }

    function fancyTimeFormat(duration) {
        // Hours, minutes and seconds
        let hrs = ~~(duration / 3600);
        let mins = ~~((duration % 3600) / 60);
        let secs = ~~duration % 60;

        // Output like "1:01" or "4:03:59" or "123:03:59"
        let ret = "";

        if (hrs > 0) {
            ret += "" + hrs + ":" + (mins < 10 ? "0" : "");
        }

        ret += "" + mins + ":" + (secs < 10 ? "0" : "");
        ret += "" + secs;
        return ret;
    }

    function getSteps() {
        const apiUrl = "/myFit/mySteps.php?range=";
        axios.get(apiUrl + '30days')
            .then(res => {
                document.getElementById("span_monthStep").innerText = (res.data.totalSteps).toLocaleString();
                document.getElementById('span_stepTime').innerText = res.data.data[res.data.data.length - 1].e;
            })

        axios.get(apiUrl + 'today')
            .then(res => {
                document.getElementById("span_todayStep").innerText = (res.data.totalSteps).toLocaleString();
            })

    }

    function setCounter(id) {
        let count = 60;
        let counter = setInterval(function () {
            document.getElementById(id).innerText = count;
            count--;
            if (count === 0) {
                clearInterval(counter);
            }
        }, 1000)
    }

    function realTimeUpdate() {
        setCounter('span_leftToUpdateCode');
        setCounter('span_leftToUpdateSteps');

        setInterval(function () {
            setCodeHour();
            setCounter('span_leftToUpdateCode');
        }, 1000 * 60);
        setInterval(function () {
            getSteps();
            setCounter('span_leftToUpdateSteps');
        }, 1000 * 60);
    }

    getSteps();
    setCodeHour();
    getCurrentPlay();

    realTimeUpdate();
</script>

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-82172506-4', 'auto');
    ga('send', 'pageview');

</script>
